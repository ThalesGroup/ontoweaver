#!/bin/bash
version=$(neo4j-admin --version | cut -d '.' -f 1)
if [[ $version -ge 5 ]]; then
	neo4j-admin database import full --delimiter=";" --array-delimiter="|" --quote="'" --overwrite-destination=true --skip-bad-relationships=true --skip-duplicate-nodes=true --nodes="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SequenceVariant-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SequenceVariant-part.*" --nodes="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/MaterialSample-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/MaterialSample-part.*" --nodes="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/Patient-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/Patient-part.*" --relationships="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/VariantInSample-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/VariantInSample-part.*" --relationships="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SampleToPatient-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SampleToPatient-part.*" --relationships="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/PatientHasVariant-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/PatientHasVariant-part.*" oncodash
else
	neo4j-admin import --delimiter=";" --array-delimiter="|" --quote="'" --force=true --skip-bad-relationships=true --skip-duplicate-nodes=true --nodes="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SequenceVariant-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SequenceVariant-part.*" --nodes="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/MaterialSample-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/MaterialSample-part.*" --nodes="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/Patient-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/Patient-part.*" --relationships="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/VariantInSample-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/VariantInSample-part.*" --relationships="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SampleToPatient-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/SampleToPatient-part.*" --relationships="/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/PatientHasVariant-header.csv,/Users/mbaric/ontoweaver1/biocypher-out/20240711125752/PatientHasVariant-part.*" --database=test 
fi